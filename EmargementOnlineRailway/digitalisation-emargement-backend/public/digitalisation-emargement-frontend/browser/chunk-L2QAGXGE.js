import{a as h}from"./chunk-3AJ3FCXW.js";import{A as s,E as c,Ea as v,J as d,K as o,L as a,P as _,Q as E,R as m,W as r,Y as b,o as u,q as p,r as C,x as l}from"./chunk-NEFVD2IN.js";function g(e,i){if(e&1&&(o(0,"a",2),r(1),a()),e&2){let t=m();l(),b("Bonjour ",t.nomUtilisateur,"")}}function I(e,i){e&1&&(o(0,"a",4),r(1,"Tableau de bord Etudiant"),a())}function A(e,i){e&1&&(o(0,"a",4),r(1,"Tableau de bord CFA"),a(),o(2,"a",4),r(3,"Rapport des absences"),a())}function H(e,i){e&1&&(o(0,"a",4),r(1,"Tableau de bord Professeur"),a())}function O(e,i){if(e&1){let t=_();o(0,"button",6),E("click",function(){p(t);let f=m();return C(f.deconnecterUtilisateur())}),r(1," D\xE9connexion "),a()}}var S=class e{router=u(v);doitAfficherHeaderEtudiant=!1;doitAfficherHeaderProfesseur=!1;doitAfficherHeaderCfa=!1;estUtilisateurConnecte=!1;nomUtilisateur="";ROLE_PROFESSEUR="professeur";ROLE_ETUDIANT="etudiant";ROLE_CFA="cfa";ngOnInit(){this.affichageHeader()}deconnecterUtilisateur(){typeof window<"u"&&(localStorage.removeItem("_TOKEN_UTILISATEUR"),localStorage.removeItem("_INFOS_UTILISATEUR"),localStorage.clear()),this.router.navigateByUrl(`${h}`)}affichageHeader(){if(typeof window>"u")return;let i=localStorage.getItem("_INFOS_UTILISATEUR"),t=localStorage.getItem("_TOKEN_UTILISATEUR");if(!i||!t){this.estUtilisateurConnecte=!1;return}let n=JSON.parse(i),f=JSON.parse(t);this.nomUtilisateur=n.nom+" "+n.prenom,n.role===this.ROLE_ETUDIANT&&(this.doitAfficherHeaderEtudiant=!0),n.role===this.ROLE_CFA&&(this.doitAfficherHeaderCfa=!0),n.role===this.ROLE_PROFESSEUR&&(this.doitAfficherHeaderProfesseur=!0),f?.token!==null&&(this.estUtilisateurConnecte=!0)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=s({type:e,selectors:[["app-header"]],decls:8,vars:5,consts:[[1,"navbar","navbar-expand-lg","navbar-dark"],[1,"container-fluid"],[1,"navbar-brand"],[1,"d-flex","justify-content-center","flex-grow-1"],[1,"navbar-brand","navbar-link-small"],[1,"btn","btn-white","ms-auto","deconnexion-btn"],[1,"btn","btn-white","ms-auto","deconnexion-btn",3,"click"]],template:function(t,n){t&1&&(o(0,"nav",0)(1,"div",1),c(2,g,2,1,"a",2),o(3,"div",3),c(4,I,2,0,"a",4)(5,A,4,0)(6,H,2,0,"a",4),a(),c(7,O,2,0,"button",5),a()()),t&2&&(l(2),d(n.estUtilisateurConnecte?2:-1),l(2),d(n.doitAfficherHeaderEtudiant?4:-1),l(),d(n.doitAfficherHeaderCfa?5:-1),l(),d(n.doitAfficherHeaderProfesseur?6:-1),l(),d(n.estUtilisateurConnecte?7:-1))},encapsulation:2})};var U=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=s({type:e,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"container"],[1,"footer-text"]],template:function(t,n){t&1&&(o(0,"footer")(1,"div",0)(2,"div",1)(3,"p"),r(4,"\xA9 Digitalisation de l'\xE9margement"),a()()()())},encapsulation:2})};export{S as a,U as b};
