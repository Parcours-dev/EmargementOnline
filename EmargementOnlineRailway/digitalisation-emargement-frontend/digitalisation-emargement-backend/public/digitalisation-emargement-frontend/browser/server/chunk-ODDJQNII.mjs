import './polyfills.server.mjs';
import{$ as _,F as l,I as d,M as c,V as s,W as i,X as a,aa as E,ba as m,ga as r,ia as b,k as p,ob as h,p as u,q as C}from"./chunk-MDY4ZS66.mjs";var v="accueil",O="dashboard-etudiant",D="dashboard-cfa",y="dashboard-professeur";function T(e,o){if(e&1&&(i(0,"a",2),r(1),a()),e&2){let t=m();l(),b("Bonjour ",t.nomUtilisateur,"")}}function I(e,o){e&1&&(i(0,"a",4),r(1,"Tableau de bord Etudiant"),a())}function g(e,o){e&1&&(i(0,"a",4),r(1,"Tableau de bord CFA"),a(),i(2,"a",4),r(3,"Rapport des absences"),a())}function H(e,o){e&1&&(i(0,"a",4),r(1,"Tableau de bord Professeur"),a())}function R(e,o){if(e&1){let t=_();i(0,"button",6),E("click",function(){u(t);let f=m();return C(f.deconnecterUtilisateur())}),r(1," D\xE9connexion "),a()}}var S=class e{router=p(h);doitAfficherHeaderEtudiant=!1;doitAfficherHeaderProfesseur=!1;doitAfficherHeaderCfa=!1;estUtilisateurConnecte=!1;nomUtilisateur="";ROLE_PROFESSEUR="professeur";ROLE_ETUDIANT="etudiant";ROLE_CFA="cfa";ngOnInit(){this.affichageHeader()}deconnecterUtilisateur(){typeof window<"u"&&(localStorage.removeItem("_TOKEN_UTILISATEUR"),localStorage.removeItem("_INFOS_UTILISATEUR"),localStorage.clear()),this.router.navigateByUrl(`${v}`)}affichageHeader(){if(typeof window>"u")return;let o=localStorage.getItem("_INFOS_UTILISATEUR"),t=localStorage.getItem("_TOKEN_UTILISATEUR");if(!o||!t){this.estUtilisateurConnecte=!1;return}let n=JSON.parse(o),f=JSON.parse(t);this.nomUtilisateur=n.nom+" "+n.prenom,n.role===this.ROLE_ETUDIANT&&(this.doitAfficherHeaderEtudiant=!0),n.role===this.ROLE_CFA&&(this.doitAfficherHeaderCfa=!0),n.role===this.ROLE_PROFESSEUR&&(this.doitAfficherHeaderProfesseur=!0),f?.token!==null&&(this.estUtilisateurConnecte=!0)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=d({type:e,selectors:[["app-header"]],decls:8,vars:5,consts:[[1,"navbar","navbar-expand-lg","navbar-dark"],[1,"container-fluid"],[1,"navbar-brand"],[1,"d-flex","justify-content-center","flex-grow-1"],[1,"navbar-brand","navbar-link-small"],[1,"btn","btn-white","ms-auto","deconnexion-btn"],[1,"btn","btn-white","ms-auto","deconnexion-btn",3,"click"]],template:function(t,n){t&1&&(i(0,"nav",0)(1,"div",1),c(2,T,2,1,"a",2),i(3,"div",3),c(4,I,2,0,"a",4)(5,g,4,0)(6,H,2,0,"a",4),a(),c(7,R,2,0,"button",5),a()()),t&2&&(l(2),s(n.estUtilisateurConnecte?2:-1),l(2),s(n.doitAfficherHeaderEtudiant?4:-1),l(),s(n.doitAfficherHeaderCfa?5:-1),l(),s(n.doitAfficherHeaderProfesseur?6:-1),l(),s(n.estUtilisateurConnecte?7:-1))},encapsulation:2})};var A=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=d({type:e,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"container"],[1,"footer-text"]],template:function(t,n){t&1&&(i(0,"footer")(1,"div",0)(2,"div",1)(3,"p"),r(4,"\xA9 Digitalisation de l'\xE9margement"),a()()()())},encapsulation:2})};export{O as a,D as b,y as c,S as d,A as e};
